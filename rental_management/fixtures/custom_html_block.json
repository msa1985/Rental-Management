[
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div id=\"custom-block\">\r\n    <h3>Bitcoin Price Index</h3>\r\n    <p><strong>Last Updated:</strong> <span id=\"last-updated\"></span></p>\r\n    <div id=\"bitcoin-prices\">\r\n        <div class=\"currency\">\r\n            <h4>USD</h4>\r\n            <p><strong>Rate:</strong> <span id=\"usd-rate\"></span></p>\r\n            <p><strong>Description:</strong> <span id=\"usd-description\"></span></p>\r\n        </div>\r\n        <div class=\"currency\">\r\n            <h4>GBP</h4>\r\n            <p><strong>Rate:</strong> <span id=\"gbp-rate\"></span></p>\r\n            <p><strong>Description:</strong> <span id=\"gbp-description\"></span></p>\r\n        </div>\r\n        <div class=\"currency\">\r\n            <h4>EUR</h4>\r\n            <p><strong>Rate:</strong> <span id=\"eur-rate\"></span></p>\r\n            <p><strong>Description:</strong> <span id=\"eur-description\"></span></p>\r\n        </div>\r\n    </div>\r\n    <p><small><strong>Disclaimer:</strong> <span id=\"disclaimer\"></span></small></p>\r\n</div>\r\n",
  "modified": "2024-12-22 20:02:51.599902",
  "name": "Bitcoin",
  "private": 0,
  "roles": [],
  "script": " const bitcoin_block_root = root_element.querySelector('#custom-block');\r\n    \r\n    if (!bitcoin_block_root) {\r\n        console.error('Bitcoin block not found in the DOM.');\r\n        return;\r\n    }\r\n\r\n    function fetchBitcoinData() {\r\n        frappe.call({\r\n            method: \"rental_management.rental_management_module.doctype.lease_agreement.lease_agreement.get_bitcoin_data\", // Update with your server-side method\r\n            args: {},\r\n            callback: function (response) {\r\n                if (response.message) {\r\n                    displayBitcoinData(response.message, bitcoin_block_root);\r\n                } else {\r\n                    console.error(\"No response message from server.\");\r\n                    bitcoin_block_root.innerHTML = `<p>Error loading Bitcoin data. Please try again later.</p>`;\r\n                }\r\n            },\r\n            error: function (error) {\r\n                console.error(\"Error calling the server-side method:\", error);\r\n                bitcoin_block_root.innerHTML = `<p>Error loading Bitcoin data. Please try again later.</p>`;\r\n            }\r\n        });\r\n    }\r\n\r\n    function displayBitcoinData(data, rootElement) {\r\n        const time = data.time;\r\n        const bpi = data.bpi;\r\n\r\n        // Populate time\r\n        rootElement.querySelector('#last-updated').textContent = time.updated;\r\n\r\n        // Populate USD details\r\n        rootElement.querySelector('#usd-rate').textContent = bpi.USD.rate;\r\n        rootElement.querySelector('#usd-description').textContent = bpi.USD.description;\r\n\r\n        // Populate GBP details\r\n        rootElement.querySelector('#gbp-rate').textContent = bpi.GBP.rate;\r\n        rootElement.querySelector('#gbp-description').textContent = bpi.GBP.description;\r\n\r\n        // Populate EUR details\r\n        rootElement.querySelector('#eur-rate').textContent = bpi.EUR.rate;\r\n        rootElement.querySelector('#eur-description').textContent = bpi.EUR.description;\r\n\r\n        // Populate disclaimer\r\n        rootElement.querySelector('#disclaimer').textContent = data.disclaimer;\r\n    }\r\n\r\n    // Fetch Bitcoin data on load\r\n    fetchBitcoinData();\r\n",
  "style": "#custom-block {\r\n    font-family: Arial, sans-serif;\r\n    padding: 20px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 8px;\r\n    max-width: 600px;\r\n    margin: auto;\r\n    background: #f9f9f9;\r\n}\r\n\r\n#bitcoin-prices {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    margin: 20px 0;\r\n}\r\n\r\n.currency {\r\n    text-align: center;\r\n    padding: 10px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 8px;\r\n    background: #fff;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\nh3 {\r\n    text-align: center;\r\n    color: #333;\r\n}\r\n"
 }
]